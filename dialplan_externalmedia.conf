; ExternalMedia + RTP Dialplan for AI Voice Agent
; This dialplan is designed for testing the ExternalMedia + RTP implementation

[ai-voice-agent-externalmedia]
; ExternalMedia + RTP approach for AI Voice Agent
exten => s,1,NoOp(Starting AI Voice Agent with ExternalMedia + RTP)
 same => n,Answer()
 same => n,Wait(1)
 same => n,Stasis(asterisk-ai-voice-agent)
 same => n,Hangup()

; Alternative context for direct testing
[ai-externalmedia-test]
; Direct ExternalMedia test context
exten => s,1,NoOp(ExternalMedia Test - Direct to Stasis)
 same => n,Answer()
 same => n,Wait(1)
 same => n,Stasis(asterisk-ai-voice-agent)
 same => n,Hangup()

; Legacy AudioSocket context (for fallback testing)
[ai-voice-agent-audiosocket]
; AudioSocket approach (legacy)
exten => s,1,NoOp(Starting AI Voice Agent with AudioSocket)
 same => n,Set(AUDIOSOCKET_HOST=127.0.0.1)
 same => n,Set(AUDIOSOCKET_PORT=8090)
 same => n,Set(AUDIOSOCKET_UUID=${UNIQUEID})
 same => n,AudioSocket(${AUDIOSOCKET_UUID},${AUDIOSOCKET_HOST}:${AUDIOSOCKET_PORT},ulaw)
 same => n,Stasis(asterisk-ai-voice-agent)
 same => n,Hangup()
